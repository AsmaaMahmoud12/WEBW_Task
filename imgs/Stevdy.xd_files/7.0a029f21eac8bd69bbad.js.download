(window.webpackJsonp=window.webpackJsonp||[]).push([[7,12],{13:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([o]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},130:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"extManager",(function(){return extManager}));var psdetch_state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),dexie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(131),utils_googleTrack__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20);const key=[76,89,116,116,56,108,85,102,70,111,37,106,75,81,120,35];class ExtManager{constructor(){this.db=new dexie__WEBPACK_IMPORTED_MODULE_1__.a("psdetch-ext"),this.db.version(2).stores({extensions:"++id, name"})}async loadNativeExtension(e){const t=new((await __webpack_require__.e(16).then(__webpack_require__.t.bind(null,189,7))).ModeOfOperation.ctr)(key);return new Promise((n,r)=>{const o=new FileReader;o.onloadend=()=>{const e=o.result,n=new Uint8Array(e),r=t.decrypt(n);this.loadJSExtension(new Blob([r]))},o.readAsArrayBuffer(e)})}async loadJSExtension(file){return new Promise((res,rej)=>{const fr=new FileReader;fr.onloadend=()=>{const script=fr.result;eval(script)},fr.readAsText(file)})}get table(){return this.db.table("extensions")}async loadExtension(e){const t=await this.table.where({name:e}).first();if(t){const e=t.data;e&&(e.name.match(/\.ext$/)?this.loadNativeExtension(e):this.loadJSExtension(e))}}async initExtension(e){const t=e.default;t.init?t.init(psdetch_state__WEBPACK_IMPORTED_MODULE_0__.b):console.log("Not an extension")}async listExtensions(){const e=await this.table.orderBy("name").primaryKeys(),t=await this.table.orderBy("name").keys(),n=[];for(let r=0;r<e.length;r++)n.push({id:e[r],name:t[r].toString()});return n}async loadAllExtensions(){const e=await this.table.orderBy("name").keys();for(const t of e)await this.loadExtension(t.toString())}async clearTable(){return this.table.clear()}async addExtension(e,t){Object(utils_googleTrack__WEBPACK_IMPORTED_MODULE_2__.a)("ext_add_"+e),await this.registerExtension(e,t),await this.loadExtension(e)}async deleteExtension(e){await this.table.delete(e)}async registerExtension(e,t){await this.table.add({name:e,data:t})}}const extManager=new ExtManager;window.extManager={initExtension:extManager.initExtension}},131:function(e,t,n){"use strict";(function(e,n){var r=Object.keys,o=Array.isArray,i="undefined"!=typeof self?self:"undefined"!=typeof window?window:e;function s(e,t){return"object"!=typeof t||r(t).forEach((function(n){e[n]=t[n]})),e}var a=Object.getPrototypeOf,c={}.hasOwnProperty;function u(e,t){return c.call(e,t)}function l(e,t){"function"==typeof t&&(t=t(a(e))),r(t).forEach((function(n){h(e,n,t[n])}))}var f=Object.defineProperty;function h(e,t,n,r){f(e,t,s(n&&u(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:l.bind(null,e.prototype)}}}}var p=Object.getOwnPropertyDescriptor;var b=[].slice;function v(e,t,n){return b.call(e,t,n)}function g(e,t){return t(e)}function m(e){if(!e)throw new Error("Assertion Failed")}function y(e){i.setImmediate?n(e):setTimeout(e,0)}function w(e,t){return e.reduce((function(e,n,r){var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})}function x(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function A(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function k(e,t){if(u(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=k(e,t[r]);n.push(i)}return n}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:k(a,t.substr(s+1))}}function _(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){m("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)_(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var s=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===n?delete e[s]:e[s]=n;else{var c=e[s];c||(c=e[s]={}),_(c,a,n)}}else void 0===n?delete e[t]:e[t]=n}}function j(e){var t={};for(var n in e)u(e,n)&&(t[n]=e[n]);return t}var O=[].concat;function E(e){return O.apply([],e)}var D="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(E([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return i[e]})).map((function(e){return i[e]}));function C(e){if(!e||"object"!=typeof e)return e;var t;if(o(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(C(e[n]))}else if(D.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)u(e,i)&&(t[i]=C(e[i]));return t}function I(e,t,n,o){return n=n||{},o=o||"",r(e).forEach((function(r){if(u(t,r)){var i=e[r],s=t[r];"object"==typeof i&&"object"==typeof s&&i&&s&&""+i.constructor==""+s.constructor?I(i,s,n,o+r+"."):i!==s&&(n[o+r]=t[r])}else n[o+r]=void 0})),r(t).forEach((function(r){u(e,r)||(n[o+r]=t[r])})),n}var B="undefined"!=typeof Symbol&&Symbol.iterator,S=B?function(e){var t;return null!=e&&(t=e[B])&&t.apply(e)}:function(){return null},P={};function T(e){var t,n,r,i;if(1===arguments.length){if(o(e))return e.slice();if(this===P&&"string"==typeof e)return[e];if(i=S(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var F="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function M(e,t){F=e,K=t}var K=function(){return!0},z=!new Error("").stack;function L(){if(z)try{throw L.arguments,new Error}catch(e){return e}return new Error}function R(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(K).map((function(e){return"\n"+e})).join("")):""}var U=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],N=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U),Q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function H(e,t){this._e=L(),this.name=e,this.message=t}function W(e,t,n,r){this._e=L(),this.failures=t,this.failedKeys=r,this.successCount=n}function G(e,t){this._e=L(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}(e,t)}d(H).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+R(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(W).from(H),d(G).from(H);var J=N.reduce((function(e,t){return e[t]=t+"Error",e}),{}),q=H,V=N.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=L(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=Q[t]||n,this.inner=null)}return d(r).from(q),e[t]=r,e}),{});V.Syntax=SyntaxError,V.Type=TypeError,V.Range=RangeError;var Y=U.reduce((function(e,t){return e[t+"Error"]=V[t],e}),{});var Z=N.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=V[t]),e}),{});function X(){}function $(e){return e}function ee(e,t){return null==e||e===$?t:function(n){return t(e(n))}}function te(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ne(e,t){return e===X?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?te(r,this.onsuccess):r),o&&(this.onerror=this.onerror?te(o,this.onerror):o),void 0!==i?i:n}}function re(e,t){return e===X?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?te(n,this.onsuccess):n),r&&(this.onerror=this.onerror?te(r,this.onerror):r)}}function oe(e,t){return e===X?t:function(n){var r=e.apply(this,arguments);s(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?te(o,this.onsuccess):o),i&&(this.onerror=this.onerror?te(i,this.onerror):i),void 0===r?void 0===a?void 0:a:s(r,a)}}function ie(e,t){return e===X?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function se(e,t){return e===X?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}Z.ModifyError=W,Z.DexieError=H,Z.BulkError=G;var ae={},ce=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=i.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),ue=ce[0],le=ce[1],fe=ce[2],he=le&&le.then,de=ue&&ue.constructor,pe=ce[3],be=!!fe,ve=!1,ge=fe?function(){fe.then(Le)}:i.setImmediate?n.bind(null,Le):i.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Le(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Le,0)},me=function(e,t){Ee.push([e,t]),we&&(ge(),we=!1)},ye=!0,we=!0,xe=[],Ae=[],ke=null,_e=$,je={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ct,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{ct(e[0],e[1])}catch(e){}}))}},Oe=je,Ee=[],De=0,Ce=[];function Ie(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=X,this._lib=!1;var t=this._PSD=Oe;if(F&&(this._stackHolder=L(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ae)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Te(this,this._value))}this._state=null,this._value=null,++t.ref,Pe(this,e)}var Be={get:function(){var e=Oe,t=Ve;function n(n,r){var o=this,i=!e.global&&(e!==Oe||t!==Ve);i&&$e();var s=new Ie((function(t,s){Me(o,new Se(st(n,e,i),st(r,e,i),t,s,e))}));return F&&ze(s,this),s}return n.prototype=ae,n},set:function(e){h(this,"then",e&&e.prototype===ae?Be:{get:function(){return e},set:Be.set})}};function Se(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function Pe(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Re();t&&"function"==typeof t.then?Pe(e,(function(e,n){t instanceof Ie?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Fe(e)),n&&Ue()}}),Te.bind(null,e))}catch(t){Te(e,t)}}function Te(e,t){if(Ae.push(t),null===e._state){var n=e._lib&&Re();t=_e(t),e._state=!1,e._value=t,F&&null!==t&&"object"==typeof t&&!t._promise&&A((function(){var n=function e(t,n){var r;return p(t,n)||(r=a(t))&&e(r,n)}(t,"stack");t._promise=e,h(t,"stack",{get:function(){return ve?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){xe.some((function(t){return t._value===e._value}))||xe.push(e)}(e),Fe(e),n&&Ue()}}function Fe(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Me(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===De&&(++De,me((function(){0==--De&&Ne()}),[]))}function Me(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++De,me(Ke,[n,e,t])}else e._listeners.push(t)}function Ke(e,t,n){try{ke=t;var r,o=t._value;t._state?r=e(o):(Ae.length&&(Ae=[]),r=e(o),-1===Ae.indexOf(o)&&function(e){var t=xe.length;for(;t;)if(xe[--t]._value===e._value)return void xe.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{ke=null,0==--De&&Ne(),--n.psd.ref||n.psd.finalize()}}function ze(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Le(){Re()&&Ue()}function Re(){var e=ye;return ye=!1,we=!1,e}function Ue(){var e,t,n;do{for(;Ee.length>0;)for(e=Ee,Ee=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ee.length>0);ye=!0,we=!0}function Ne(){var e=xe;xe=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ce.slice(0),n=t.length;n;)t[--n]()}function Qe(e){return new Ie(ae,!1,e)}function He(e,t){var n=Oe;return function(){var r=Re(),o=Oe;try{return rt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{rt(o,!1),r&&Ue()}}}l(Ie.prototype,{then:Be,_then:function(e,t){Me(this,new Se(null,null,e,t,Oe))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):Qe(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):Qe(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Qe(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{ve=!0;var e=function e(t,n,r){if(n.length===r)return n;var o="";if(!1===t._state){var i,s,a=t._value;null!=a?(i=a.name||"Error",s=a.message||a,o=R(a,0)):(i=a,s=""),n.push(i+(s?": "+s:"")+o)}F&&((o=R(t._stackHolder,2))&&-1===n.indexOf(o)&&n.push(o),t._prev&&e(t._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ve=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Ie((function(r,o){var i=setTimeout((function(){return o(new V.Timeout(t))}),e);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(Ie.prototype,Symbol.toStringTag,"Promise"),je.env=ot(),l(Ie,{all:function(){var e=T.apply(null,arguments).map(et);return new Ie((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(o,i){return Ie.resolve(o).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Ie)return e;if(e&&"function"==typeof e.then)return new Ie((function(t,n){e.then(t,n)}));var t=new Ie(ae,!0,e);return ze(t,ke),t},reject:Qe,race:function(){var e=T.apply(null,arguments).map(et);return new Ie((function(t,n){e.map((function(e){return Ie.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Oe},set:function(e){return Oe=e}},newPSD:Ze,usePSD:it,scheduler:{get:function(){return me},set:function(e){me=e}},rejectionMapper:{get:function(){return _e},set:function(e){_e=e}},follow:function(e,t){return new Ie((function(n,r){return Ze((function(t,n){var r=Oe;r.unhandleds=[],r.onunhandled=n,r.finalize=te((function(){var e=this;!function(e){Ce.push((function t(){e(),Ce.splice(Ce.indexOf(t),1)})),++De,me((function(){0==--De&&Ne()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}});var We={awaits:0,echoes:0,id:0},Ge=0,Je=[],qe=0,Ve=0,Ye=0;function Ze(e,t,n,r){var o=Oe,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Ye;var a=je.env;i.env=be?{Promise:Ie,PromiseProp:{value:Ie,configurable:!0,writable:!0},all:Ie.all,race:Ie.race,resolve:Ie.resolve,reject:Ie.reject,nthen:at(a.nthen,i),gthen:at(a.gthen,i)}:{},t&&s(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=it(i,e,n,r);return 0===i.ref&&i.finalize(),c}function Xe(){return We.id||(We.id=++Ge),++We.awaits,We.echoes+=7,We.id}function $e(e){!We.awaits||e&&e!==We.id||(0==--We.awaits&&(We.id=0),We.echoes=7*We.awaits)}function et(e){return We.echoes&&e&&e.constructor===de?(Xe(),e.then((function(e){return $e(),e}),(function(e){return $e(),ut(e)}))):e}function tt(e){++Ve,We.echoes&&0!=--We.echoes||(We.echoes=We.id=0),Je.push(Oe),rt(e,!0)}function nt(){var e=Je[Je.length-1];Je.pop(),rt(e,!1)}function rt(e,t){var n,r=Oe;if((t?!We.echoes||qe++&&e===Oe:!qe||--qe&&e===Oe)||(n=t?tt.bind(null,e):nt,he.call(ue,n)),e!==Oe&&(Oe=e,r===je&&(je.env=ot()),be)){var o=je.env.Promise,s=e.env;le.then=s.nthen,o.prototype.then=s.gthen,(r.global||e.global)&&(Object.defineProperty(i,"Promise",s.PromiseProp),o.all=s.all,o.race=s.race,o.resolve=s.resolve,o.reject=s.reject)}}function ot(){var e=i.Promise;return be?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:le.then,gthen:e.prototype.then}:{}}function it(e,t,n,r,o){var i=Oe;try{return rt(e,!0),t(n,r,o)}finally{rt(i,!1)}}function st(e,t,n){return"function"!=typeof e?e:function(){var r=Oe;n&&Xe(),rt(t,!0);try{return e.apply(this,arguments)}finally{rt(r,!1)}}}function at(e,t){return function(n,r){return e.call(this,st(n,t,!1),st(r,t,!1))}}function ct(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,o={promise:t,reason:e};if(i.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),s(r,o)):i.CustomEvent&&s(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&i.dispatchEvent&&(dispatchEvent(r),!i.PromiseRejectionEvent&&i.onunhandledrejection))try{i.onunhandledrejection(r)}catch(e){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var ut=Ie.reject;function lt(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=a;for(var i=1,s=arguments.length;i<s;++i)a(arguments[i]);return n;function a(e,r,o){if("object"==typeof e)return c(e);r||(r=ie),o||(o=X);var i={subscribers:[],fire:o,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,o)}};return t[e]=n[e]=i,i}function c(e){r(e).forEach((function(t){var n=e[t];if(o(n))a(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new V.InvalidArgument("Invalid event config");var r=a(t,$,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){y((function(){e.apply(null,t)}))}))}))}}))}}var ft,ht=String.fromCharCode(65535),dt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return ht}}(),pt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt=[],vt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),gt=vt,mt=vt,yt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function wt(e,t){var n,a,c,f,d,p=wt.dependencies,b=s({addons:wt.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},t),y=b.addons,O=b.autoOpen,D=b.indexedDB,B=b.IDBKeyRange,S=this._dbSchema={},M=[],K=[],z={},U=null,N=null,Q=!1,H=null,J=!1,q="readwrite",Y=this,Z=new Ie((function(e){n=e})),te=new Ie((function(e,t){a=t})),ie=!0,ae=!!Bt(D);function ce(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function ue(e,t,n){var o=Y._createTransaction(q,K,S);o.create(t),o._completion.catch(n);var i=o._reject.bind(o);Ze((function(){Oe.trans=o,0===e?(r(S).forEach((function(e){le(t,e,S[e].primKey,S[e].indexes)})),Ie.follow((function(){return Y.on.populate.fire(o)})).catch(i)):function(e,t,n){var o=[],i=M.filter((function(t){return t._cfg.version===e}))[0];if(!i)throw new V.Upgrade("Dexie specification of currently installed DB version is missing");S=Y._dbSchema=i._cfg.dbschema;var s=!1;function a(){return o.length?Ie.resolve(o.shift()(t.idbtrans)).then(a):Ie.resolve()}return M.filter((function(t){return t._cfg.version>e})).forEach((function(e){o.push((function(){var r=S,o=e._cfg.dbschema;Te(r,n),Te(o,n),S=Y._dbSchema=o;var i=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var o=e[r],i=t[r];if(o){var s={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(o.primKey.src!==i.primKey.src)s.recreate=!0,n.change.push(s);else{var a=o.idxByName,c=i.idxByName;for(var u in a)c[u]||s.del.push(u);for(u in c){var l=a[u],f=c[u];l?l.src!==f.src&&s.change.push(f):s.add.push(f)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,i])}return n}(r,o);if(i.add.forEach((function(e){le(n,e[0],e[1].primKey,e[1].indexes)})),i.change.forEach((function(e){if(e.recreate)throw new V.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){fe(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),fe(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return s=!0,Ie.follow((function(){e._cfg.contentUpgrade(t)}))})),o.push((function(t){s&&gt||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)}))})),a().then((function(){!function(e,t){r(e).forEach((function(n){t.db.objectStoreNames.contains(n)||le(t,n,e[n].primKey,e[n].indexes)}))}(S,n)}))}(e,o,t).catch(i)}))}function le(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){fe(o,e)})),o}function fe(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function he(e,t,n){var r=arguments.length;if(r<2)throw new V.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var i=E(o);return[e,i,n]}function be(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=z[e]?z[e].hook:lt(null,{creating:[ne,X],reading:[ee,$],updating:[oe,X],deleting:[re,X]})}function ve(e,t,n){return(n?jt:kt)((function(n){e.push(n),t&&t()}))}function ge(e,t,n,r,o){return new Ie((function(i,s){var a=n.length,c=a-1;if(0===a)return i();if(r){var u,l=jt(s),f=At(null);A((function(){for(var r=0;r<a;++r){u={onsuccess:null,onerror:null};var s=n[r];o.call(u,s[0],s[1],t);var h=e.delete(s[0]);h._hookCtx=u,h.onerror=l,h.onsuccess=r===c?At(i):f}}),(function(e){throw u.onerror&&u.onerror(e),e}))}else for(var h=0;h<a;++h){var d=e.delete(n[h]);d.onerror=kt(s),h===c&&(d.onsuccess=He((function(){return i()})))}}))}function me(e,t,n,r){var o=this;this.db=Y,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=lt(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ie((function(e,t){o._resolve=e,o._reject=t})),this._completion.then((function(){o.active=!1,o.on.complete.fire()}),(function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),ut(e)}))}function ye(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function we(e,t){var n=null,r=null;if(t)try{n=t()}catch(e){r=e}var o=e._ctx,i=o.table;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:i.hook.reading.fire}}function xe(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ae(e,t){return e._cfg.version-t._cfg.version}function ke(e,t,n){t.forEach((function(t){var r=n[t];e.forEach((function(e){t in e||(e===me.prototype||e instanceof me?h(e,t,{get:function(){return this.table(t)}}):e[t]=new be(t,r))}))}))}function _e(e,t,n,r,o,i){var s=He(i?function(e,t,r){return n(i(e),t,r)}:n,o);e.onerror||(e.onerror=kt(o)),e.onsuccess=x(t?function(){var n=e.result;if(n){var i=function(){n.continue()};t(n,(function(e){i=e}),r,o)&&s(n.value,n,(function(e){i=e})),i()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};s(t.value,t,(function(e){n=e})),n()}else r()},o)}function je(e,t){return D.cmp(e,t)}function Ee(e,t){return je(e,t)>0?e:t}function De(e,t){return D.cmp(e,t)}function Ce(e,t){return D.cmp(t,e)}function Be(e,t){return e<t?-1:e===t?0:1}function Se(e,t){return e>t?-1:e===t?0:1}function Pe(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Te(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var o=n[r],s=t.objectStore(o);c="getAll"in s;for(var a=0;a<s.indexNames.length;++a){var u=s.indexNames[a],l=s.index(u).keyPath,f="string"==typeof l?l:"["+v(l).join("+")+"]";if(e[o]){var h=e[o].idxByName[f];h&&(h.name=u)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(c=!1)}function Fe(e){Y.on("blocked").fire(e),bt.filter((function(e){return e.name===Y.name&&e!==Y&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(U||Q)throw new V.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=M.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new ce(e),M.push(t),M.sort(Ae),ie=!1,t)},s(ce.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e;var t={};M.forEach((function(e){s(t,e._cfg.storesSource)}));var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),S=Y._dbSchema=n,[z,Y,me.prototype].forEach((function(e){for(var t in e)e[t]instanceof be&&delete e[t]})),ke([z,Y,me.prototype,this._cfg.tables],r(n),n),K=r(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){r(e).forEach((function(n){if(null!==e[n]){var r={},i=function(e){var t=[];return e.split(",").forEach((function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new Dt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(r),/\./.test(e)))})),t}(e[n]),s=i.shift();if(s.multi)throw new V.Schema("Primary key cannot be multi-valued");s.keyPath&&_(r,s.keyPath,s.auto?0:s.keyPath),i.forEach((function(e){if(e.auto)throw new V.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new V.Schema("Index must have a name and cannot be an empty string");_(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[n]=new Ct(n,s,i,r)}}))}}),this._allTables=z,this._createTransaction=function(e,t,n,r){return new me(e,t,n,r)},this._whenReady=function(e){return J||Oe.letThrough?e():new Ie((function(e,t){if(!Q){if(!O)return void t(new V.DatabaseClosed);Y.open().catch(X)}Z.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(Q||U)return Z.then((function(){return N?ut(N):Y}));F&&(te._stackHolder=L()),Q=!0,N=null,J=!1;var t=n,o=null;return Ie.race([te,new Ie((function(t,n){if(!D)throw new V.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=ie?D.open(e):D.open(e,Math.round(10*Y.verno));if(!i)throw new V.MissingAPI("IndexedDB API not available");i.onerror=kt(n),i.onblocked=He(Fe),i.onupgradeneeded=He((function(t){if(o=i.transaction,ie&&!Y._allowEmptyDB){i.onerror=Ot,o.abort(),i.result.close();var r=D.deleteDatabase(e);r.onsuccess=r.onerror=He((function(){n(new V.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else{o.onerror=kt(n),ue((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,o,n)}}),n),i.onsuccess=He((function(){if(o=null,U=i.result,bt.push(Y),ie)!function(){if(Y.verno=U.version/10,Y._dbSchema=S={},0===(K=v(U.objectStoreNames,0)).length)return;var e=U.transaction(It(K),"readonly");K.forEach((function(t){for(var n=e.objectStore(t),r=n.keyPath,o=r&&"string"==typeof r&&-1!==r.indexOf("."),i=new Dt(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,o),s=[],a=0;a<n.indexNames.length;++a){var c=n.index(n.indexNames[a]);o=(r=c.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var u=new Dt(c.name,r,!!c.unique,!!c.multiEntry,!1,r&&"string"!=typeof r,o);s.push(u)}S[t]=new Ct(t,i,s,{})})),ke([z],r(S),S)}();else if(U.objectStoreNames.length>0)try{Te(S,U.transaction(It(U.objectStoreNames),"readonly"))}catch(e){}U.onversionchange=He((function(e){Y._vcFired=!0,Y.on("versionchange").fire(e)})),ae||"__dbnames"===e||ft.dbnames.put({name:e}).catch(X),t()}),n)}))]).then((function(){return H=[],Ie.resolve(wt.vip(Y.on.ready.fire)).then((function e(){if(H.length>0){var t=H.reduce(se,X);return H=[],Ie.resolve(wt.vip(t)).then(e)}}))})).finally((function(){H=null})).then((function(){return Q=!1,Y})).catch((function(e){try{o&&o.abort()}catch(e){}return Q=!1,Y.close(),ut(N=e)})).finally((function(){J=!0,t()}))},this.close=function(){var e=bt.indexOf(Y);if(e>=0&&bt.splice(e,1),U){try{U.close()}catch(e){}U=null}O=!1,N=new V.DatabaseClosed,Q&&a(N),Z=new Ie((function(e){n=e})),te=new Ie((function(e,t){a=t}))},this.delete=function(){var t=arguments.length>0;return new Ie((function(n,r){if(t)throw new V.InvalidArgument("Arguments not allowed in db.delete()");function o(){Y.close();var t=D.deleteDatabase(e);t.onsuccess=He((function(){ae||ft.dbnames.delete(e).catch(X),n()})),t.onerror=kt(r),t.onblocked=Fe}Q?Z.then(o):o()}))},this.backendDB=function(){return U},this.isOpen=function(){return null!==U},this.hasBeenClosed=function(){return N&&N instanceof V.DatabaseClosed},this.hasFailed=function(){return null!==N},this.dynamicallyOpened=function(){return ie},this.name=e,l(this,{tables:{get:function(){return r(z).map((function(e){return z[e]}))}}}),this.on=lt(this,"populate","blocked","versionchange",{ready:[se,X]}),this.on.ready.subscribe=g(this.on.ready.subscribe,(function(e){return function(t,n){wt.vip((function(){J?(N||Ie.resolve().then(t),n&&e(t)):H?(H.push(t),n&&e(t)):(e(t),n||e((function e(){Y.on.ready.unsubscribe(t),Y.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=he.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=Oe.trans;r&&r.db===Y&&-1===e.indexOf("!")||(r=null);var o=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var i=t.map((function(e){var t=e instanceof be?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=q)throw new V.InvalidArgument("Invalid transaction mode: "+e);e=q}if(r){if("readonly"===r.mode&&e===q){if(!o)throw new V.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!o)throw new V.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),o&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,(function(t,n){n(e)})):ut(e)}return r?r._promise(e,s,"lock"):Oe.trans?it(Oe.transless,(function(){return Y._whenReady(s)})):Y._whenReady(s);function s(){return Ie.resolve().then((function(){var t,o=Oe.transless||Oe,s=Y._createTransaction(e,i,S,r),a={trans:s,transless:o};r?s.idbtrans=r.idbtrans:s.create(),n.constructor===pe&&Xe();var c=Ie.follow((function(){if(t=n.call(s,s))if(t.constructor===de){var e=$e.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=Et(t))}),a);return(t&&"function"==typeof t.then?Ie.resolve(t).then((function(e){return s.active?e:ut(new V.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):c.then((function(){return t}))).then((function(e){return r&&s._resolve(),s._completion.then((function(){return e}))})).catch((function(e){return s._reject(e),ut(e)}))}))}},this.table=function(e){if(!u(z,e))throw new V.InvalidTable("Table "+e+" does not exist");return z[e]},l(be.prototype,{_trans:function(e,t,n){var r=this._tx||Oe.trans;return r&&r.db===Y?r===Oe.trans?r._promise(e,t,n):Ze((function(){return r._promise(e,t,n)}),{trans:r,transless:Oe.transless||Oe}):function e(t,n,r){if(J||Oe.letThrough){var o=Y._createTransaction(t,n,S);try{o.create()}catch(e){return ut(e)}return o._promise(t,(function(e,t){return Ze((function(){return Oe.trans=o,r(e,t,o)}))})).then((function(e){return o._completion.then((function(){return e}))}))}if(!Q){if(!O)return ut(new V.DatabaseClosed);Y.open().catch(X)}return Z.then((function(){return e(t,n,r)}))}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,(function(e,n,o){if(-1===o.storeNames.indexOf(r))throw new V.NotFound("Table"+r+" not part of transaction");return t(e,n,o.idbtrans.objectStore(r),o)}),n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",(function(t,r,o){var i=o.get(e);i.onerror=kt(r),i.onsuccess=He((function(){t(n.hook.reading.fire(i.result))}),r)})).then(t)},where:function(e){if("string"==typeof e)return new ye(this,e);if(o(e))return new ye(this,"["+e.join("+")+"]");var t=r(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&dt!==ht)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var i=this.schema.idxByName,s=t.reduce((function(t,n){return[t[0]||i[n],t[0]||!i[n]?Pe(t[1],(function(t){return""+k(t,n)==""+e[n]})):t[1]]}),[null,null]),a=s[0];return a?this.where(a.name).equals(e[a.keyPath]).filter(s[1]):n?this.filter(s[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new we(new ye(this,o(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new we(new ye(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&xt(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(u(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(wt.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===X?this._idbstore(q,(function(t,n,r,o){t(ge(r,o,e,!1,X))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var n=this;return this._idbstore(q,(function(r,o,i){if(!i.keyPath&&!n.schema.primKey.auto&&!t)throw new V.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(i.keyPath&&t)throw new V.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new V.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var s,a,c=function(e){0===u.length?r(e):o(new G(n.name+".bulkPut(): "+u.length+" of "+l+" operations failed",u))},u=[],l=e.length,f=n;if(n.hook.creating.fire===X&&n.hook.updating.fire===X){a=ve(u);for(var h=0,d=e.length;h<d;++h)(s=t?i.put(e[h],t[h]):i.put(e[h])).onerror=a;s.onerror=ve(u,c),s.onsuccess=_t(c)}else{var p=t||i.keyPath&&e.map((function(e){return k(e,i.keyPath)})),b=p&&w(p,(function(t,n){return null!=t&&[t,e[n]]}));(p?f.where(":id").anyOf(p.filter((function(e){return null!=e}))).modify((function(){this.value=b[this.primKey],b[this.primKey]=null})).catch(W,(function(e){u=e.failures})).then((function(){for(var n=[],r=t&&[],o=p.length-1;o>=0;--o){var i=p[o];(null==i||b[i])&&(n.push(e[o]),t&&r.push(i),null!=i&&(b[i]=null))}return n.reverse(),t&&r.reverse(),f.bulkAdd(n,r)})).then((function(e){var t=p[p.length-1];return null!=t?t:e})):f.bulkAdd(e)).then(c).catch(G,(function(e){u=u.concat(e.failures),c()})).catch(o)}}),"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(q,(function(o,i,s,a){if(!s.keyPath&&!n.schema.primKey.auto&&!t)throw new V.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&t)throw new V.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new V.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return o();function c(e){0===h.length?o(e):i(new G(n.name+".bulkAdd(): "+h.length+" of "+d+" operations failed",h))}var u,l,f,h=[],d=e.length;if(r!==X){var p,b=s.keyPath;l=ve(h,null,!0),f=At(null),A((function(){for(var n=0,o=e.length;n<o;++n){p={onerror:null,onsuccess:null};var i=t&&t[n],c=e[n],h=t?i:b?k(c,b):void 0,d=r.call(p,h,c,a);null==h&&null!=d&&(b?_(c=C(c),b,d):i=d),(u=null!=i?s.add(c,i):s.add(c))._hookCtx=p,n<o-1&&(u.onerror=l,p.onsuccess&&(u.onsuccess=f))}}),(function(e){throw p.onerror&&p.onerror(e),e})),u.onerror=ve(h,c,!0),u.onsuccess=At(c)}else{l=ve(h);for(var v=0,g=e.length;v<g;++v)(u=t?s.add(e[v],t[v]):s.add(e[v])).onerror=l;u.onerror=ve(h,c),u.onsuccess=_t(c)}}))},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(q,(function(r,o,i,s){var a={onsuccess:null,onerror:null};if(n!==X){var c=null!=t?t:i.keyPath?k(e,i.keyPath):void 0,u=n.call(a,c,e,s);null==c&&null!=u&&(i.keyPath?_(e,i.keyPath,u):t=u)}try{var l=null!=t?i.add(e,t):i.add(e);l._hookCtx=a,l.onerror=jt(o),l.onsuccess=At((function(t){var n=i.keyPath;n&&_(e,n,t),r(t)}))}catch(e){throw a.onerror&&a.onerror(e),e}}))},put:function(e,t){var n=this,r=this.hook.creating.fire,o=this.hook.updating.fire;if(r!==X||o!==X){var i=this.schema.primKey.keyPath,s=void 0!==t?t:i&&k(e,i);return null==s?this.add(e):(e=C(e),this._trans(q,(function(){return n.where(":id").equals(s).modify((function(){this.value=e})).then((function(r){return 0===r?n.add(e,t):s}))}),"locked"))}return this._idbstore(q,(function(n,r,o){var i=void 0!==t?o.put(e,t):o.put(e);i.onerror=kt(r),i.onsuccess=He((function(t){var r=o.keyPath;r&&_(e,r,t.target.result),n(i.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(q,(function(t,n,r){var o=r.delete(e);o.onerror=kt(n),o.onsuccess=He((function(){t(o.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(q,(function(e,t,n){var r=n.clear();r.onerror=kt(t),r.onsuccess=He((function(){e(r.result)}))}))},update:function(e,t){if("object"!=typeof t||o(t))throw new V.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||o(e))return this.where(":id").equals(e).modify(t);r(t).forEach((function(n){_(e,n,t[n])}));var n=k(e,this.schema.primKey.keyPath);return void 0===n?ut(new V.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),l(me.prototype,{_lock:function(){return m(!Oe.global),++this._reculock,1!==this._reculock||Oe.global||(Oe.lockOwnerFor=this),this},_unlock:function(){if(m(!Oe.global),0==--this._reculock)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{it(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&Oe.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(m(!this.idbtrans),!e&&!U)switch(N&&N.name){case"DatabaseClosedError":throw new V.DatabaseClosed(N);case"MissingAPIError":throw new V.MissingAPI(N.message,N);default:throw new V.OpenFailed(N)}if(!this.active)throw new V.TransactionInactive;return m(null===this._completion._state),(e=this.idbtrans=e||U.transaction(It(this.storeNames),this.mode)).onerror=He((function(n){Ot(n),t._reject(e.error)})),e.onabort=He((function(n){Ot(n),t.active&&t._reject(new V.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=He((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,n){var r=this;if(e===q&&this.mode!==q)return ut(new V.ReadOnly("Transaction is readonly"));if(!this.active)return ut(new V.TransactionInactive);if(this._locked())return new Ie((function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},Oe])}));if(n)return Ze((function(){var e=new Ie((function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new Ie((function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return o._lib=!0,o},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=Ie.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new Ie((function(n,o){e.then((function(e){return t._waitingQueue.push(He(n.bind(null,e)))}),(function(e){return t._waitingQueue.push(He(o.bind(null,e)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new V.Abort),this.active=!1},tables:{get:(f="Transaction.tables",d=function(){return z},function(){return console.warn(f+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+R(L(),1)),d.apply(this,arguments)})},table:function(e){return new be(e,Y.table(e).schema,this)}}),l(ye.prototype,(function(){function e(e,t,n){var r=e instanceof ye?new we(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new we(e,(function(){return B.only("")})).limit(0)}function n(e,t,n,r,o,i){for(var s=Math.min(e.length,r.length),a=-1,c=0;c<s;++c){var u=t[c];if(u!==r[c])return o(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):o(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;o(e[c],u)<0&&(a=c)}return s<r.length&&"next"===i?e+n.substr(e.length):s<e.length&&"prev"===i?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function r(t,r,o,i){var s,a,c,u,l,f,h,d=o.length;if(!o.every((function(e){return"string"==typeof e})))return e(t,"String expected.");function p(e){s=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),c="next"===e?Be:Se;var t=o.map((function(e){return{lower:a(e),upper:s(e)}})).sort((function(e,t){return c(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),f=e,h="next"===e?"":i}p("next");var b=new we(t,(function(){return B.bound(u[0],l[d-1]+i)}));b._ondirectionchange=function(e){p(e)};var v=0;return b._addAlgorithm((function(e,t,o){var i=e.key;if("string"!=typeof i)return!1;var s=a(i);if(r(s,l,v))return!0;for(var p=null,b=v;b<d;++b){var g=n(i,s,u[b],l[b],c,f);null===g&&null===p?v=b+1:(null===p||c(p,g)>0)&&(p=g)}return t(null!==p?function(){e.continue(p+h)}:o),!1})),b}return{between:function(n,r,o,i){o=!1!==o,i=!0===i;try{return je(n,r)>0||0===je(n,r)&&(o||i)&&(!o||!i)?t(this):new we(this,(function(){return B.bound(n,r,!o,!i)}))}catch(t){return e(this,pt)}},equals:function(e){return new we(this,(function(){return B.only(e)}))},above:function(e){return new we(this,(function(){return B.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new we(this,(function(){return B.lowerBound(e)}))},below:function(e){return new we(this,(function(){return B.upperBound(e,!0)}))},belowOrEqual:function(e){return new we(this,(function(){return B.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,"String expected."):this.between(t,t+ht,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],ht)},equalsIgnoreCase:function(e){return r(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=T.apply(P,arguments);return 0===e.length?t(this):r(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=T.apply(P,arguments);return 0===e.length?t(this):r(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,ht)},anyOf:function(){var n=T.apply(P,arguments),r=De;try{n.sort(r)}catch(t){return e(this,pt)}if(0===n.length)return t(this);var o=new we(this,(function(){return B.bound(n[0],n[n.length-1])}));o._ondirectionchange=function(e){r="next"===e?De:Ce,n.sort(r)};var i=0;return o._addAlgorithm((function(e,t,o){for(var s=e.key;r(s,n[i])>0;)if(++i===n.length)return t(o),!1;return 0===r(s,n[i])||(t((function(){e.continue(n[i])})),!1)})),o},notEqual:function(e){return this.inAnyRange([[-1/0,e],[e,dt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=T.apply(P,arguments);if(0===t.length)return new we(this);try{t.sort(De)}catch(t){return e(this,pt)}var n=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return n.push([t[t.length-1],dt]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&De(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",V.InvalidArgument);var o=!r||!1!==r.includeLowers,i=r&&!0===r.includeUppers;var s,a=De;function c(e,t){return a(e[0],t[0])}try{(s=n.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(je(t[0],o[1])<0&&je(t[1],o[0])>0){o[0]=(i=o[0],s=t[0],je(i,s)<0?i:s),o[1]=Ee(o[1],t[1]);break}}var i,s;return n===r&&e.push(t),e}),[])).sort(c)}catch(t){return e(this,pt)}var u=0,l=i?function(e){return De(e,s[u][1])>0}:function(e){return De(e,s[u][1])>=0},f=o?function(e){return Ce(e,s[u][0])>0}:function(e){return Ce(e,s[u][0])>=0};var h=l,d=new we(this,(function(){return B.bound(s[0][0],s[s.length-1][1],!o,!i)}));return d._ondirectionchange=function(e){"next"===e?(h=l,a=De):(h=f,a=Ce),s.sort(c)},d._addAlgorithm((function(e,t,n){for(var r=e.key;h(r);)if(++u===s.length)return t(n),!1;return!!function(e){return!l(e)&&!f(e)}(r)||(0===je(r,s[u][1])||0===je(r,s[u][0])||t((function(){a===De?e.continue(s[u][0]):e.continue(s[u][1])})),!1)})),d},startsWithAnyOf:function(){var n=T.apply(P,arguments);return n.every((function(e){return"string"==typeof e}))?0===n.length?t(this):this.inAnyRange(n.map((function(e){return[e,e+ht]}))):e(this,"startsWithAnyOf() only works with strings")}}})),l(we.prototype,(function(){function e(e,t){e.filter=Pe(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Pe(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new V.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function o(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function i(e,t,n,r,i){var s=e.replayFilter?Pe(e.filter,e.replayFilter()):e.filter;e.or?function(){var a={},c=0;function l(){2==++c&&n()}function f(e,n,o){if(!s||s(n,o,l,r)){var i=n.primaryKey,c=""+i;"[object ArrayBuffer]"===c&&(c=""+new Uint8Array(i)),u(a,c)||(a[c]=!0,t(e,n,o))}}e.or._iterate(f,l,r,i),_e(o(e,i),e.algorithm,f,l,r,!e.keysOnly&&e.valueMapper)}():_e(o(e,i),Pe(e.algorithm,s),t,n,r,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,ut.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,ut.bind(null,t.error)):t.table._idbstore(q,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Pe(t.algorithm,e)},_iterate:function(e,t,n,r){return i(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&s(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(n,r,o){i(t,e,n,r,o)}))},count:function(e){var t=this._ctx;if(xe(t,!0))return this._read((function(e,r,o){var i=n(t,o),s=t.range?i.count(t.range):i.count();s.onerror=kt(r),s.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}}),e);var r=0;return this._read((function(e,n,o){i(t,(function(){return++r,!1}),(function(){e(r)}),n,o)}),e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var n=i(e,o),r=i(t,o);return n<r?-s:n>r?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,r,o){if(c&&"next"===t.dir&&xe(t,!0)&&t.limit>0){var s=t.table.hook.reading.fire,a=n(t,o),u=t.limit<1/0?a.getAll(t.range,t.limit):a.getAll(t.range);u.onerror=kt(r),u.onsuccess=_t(s===$?e:function(t){try{e(t.map(s))}catch(e){r(e)}})}else{var l=[];i(t,(function(e){l.push(e)}),(function(){e(l)}),r,o)}}),e)},offset:function(e){var n=this._ctx;return e<=0||(n.offset+=e,xe(n)?t(n,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):t(n,(function(){var t=e;return function(){return--t<0}}))),this},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},until:function(t,n){return e(this._ctx,(function(e,r,o){return!t(e.value)||(r(o),n)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=Pe(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new ye(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},primaryKeys:function(e){var t=this._ctx;if(c&&"next"===t.dir&&xe(t,!0)&&t.limit>0)return this._read((function(e,r,o){var i=n(t,o),s=t.limit<1/0?i.getAllKeys(t.range,t.limit):i.getAllKeys(t.range);s.onerror=kt(r),s.onsuccess=_t(e)})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),n=u(r,t);return r[t]=!0,!n})),this},modify:function(e){var t=this,n=this._ctx.table.hook,o=n.updating.fire,i=n.deleting.fire;return this._write((function(n,a,c,l){var f;if("function"==typeof e)f=o===X&&i===X?e:function(t){var n=C(t);if(!1===e.call(this,t,this))return!1;if(u(this,"value")){var s=I(n,this.value),a=o.call(this,s,this.primKey,n,l);a&&(t=this.value,r(a).forEach((function(e){_(t,e,a[e])})))}else i.call(this,this.primKey,t,l)};else if(o===X){var h=r(e),d=h.length;f=function(t){for(var n=!1,r=0;r<d;++r){var o=h[r],i=e[o];k(t,o)!==i&&(_(t,o,i),n=!0)}return n}}else{var p=e;e=j(p),f=function(t){var n=!1,i=o.call(this,e,this.primKey,C(t),l);return i&&s(e,i),r(e).forEach((function(r){var o=e[r];k(t,r)!==o&&(_(t,r,o),n=!0)})),i&&(e=j(p)),n}}var b=0,v=0,g=!1,m=[],y=[],w=null;function x(e){return e&&(m.push(e),y.push(w)),a(new W("Error modifying one or more objects",m,v,y))}function O(){g&&v+m.length===b&&(m.length>0?x():n(v))}t.clone().raw()._iterate((function(e,t){w=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return m.push(e),y.push(n.primKey),O(),!0}if(!1!==f.call(n,e,n)){var o=!u(n,"value");++b,A((function(){var e=o?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=jt(r),e.onsuccess=At((function(){++v,O()}))}),r)}else n.onsuccess&&n.onsuccess(n.value)}),(function(){g=!0,O()}),x,c)}))},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,o=r!==X;if(!o&&xe(t)&&(t.isPrimKey&&!mt||!n))return this._write((function(e,t,r){var o=kt(t),i=n?r.count(n):r.count();i.onerror=o,i.onsuccess=function(){var s=i.result;A((function(){var t=n?r.delete(n):r.clear();t.onerror=o,t.onsuccess=function(){return e(s)}}),(function(e){return t(e)}))}}));var i=o?2e3:1e4;return this._write((function(n,s,a,c){var u=0,l=e.clone({keysOnly:!t.isMatch&&!o}).distinct().limit(i).raw(),f=[],h=function(){return l.each(o?function(e,t){f.push([t.primaryKey,t.value])}:function(e,t){f.push(t.primaryKey)}).then((function(){return o?f.sort((function(e,t){return De(e[0],t[0])})):f.sort(De),ge(a,c,f,o,r)})).then((function(){var e=f.length;return u+=e,f=[],e<i?u:h()}))};n(h())}))}}})),s(this,{Collection:we,Table:be,Transaction:me,Version:ce,WhereClause:ye}),Y.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Y.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Y.name+"'. Closing db now to resume the delete request."),Y.close()})),Y.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Y.name+"') was blocked"):console.warn("Upgrade '"+Y.name+"' blocked by other connection holding version "+e.oldVersion/10)})),y.forEach((function(e){e(Y)}))}function xt(e,t){return r(t).forEach((function(n){var r=function e(t){if("function"==typeof t)return new t;if(o(t))return[e(t[0])];if(t&&"object"==typeof t){var n={};return xt(n,t),n}return t}(t[n]);e[n]=r})),e}function At(e){return He((function(t){var n=t.target,r=n._hookCtx,o=r.value||n.result,i=r&&r.onsuccess;i&&i(o),e&&e(o)}),e)}function kt(e){return He((function(t){return Ot(t),e(t.target.error),!1}))}function _t(e){return He((function(t){e(t.target.result)}))}function jt(e){return He((function(t){var n=t.target,r=n.error,o=n._hookCtx,i=o&&o.onerror;return i&&i(r),Ot(t),e(r),!1}))}function Ot(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function Et(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),s=i.value;return i.done?s:s&&"function"==typeof s.then?s.then(n,r):o(s)?Ie.all(s).then(n,r):n(s)}}return i(t)()}function Dt(e,t,n,r,o,i,s){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=o,this.compound=i,this.dotted=s;var a="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(o?"++":"")+a}function Ct(e,t,n,r){this.name=e,this.primKey=t||new Dt,this.indexes=n||[new Dt],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=w(n,(function(e){return[e.name,e]}))}function It(e){return 1===e.length?e[0]:e}function Bt(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}M(F,yt),l(wt,Z),l(wt,{delete:function(e){var t=new wt(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new wt(e).open().then((function(e){return e.close(),!0})).catch(wt.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=Bt(wt.dependencies.indexedDB);return t?new Ie((function(e,n){var r=t();r.onsuccess=function(t){e(v(t.target.result,0))},r.onerror=kt(n)})).then(e):ft.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&s(this,e)}},applyStructure:xt,ignoreTransaction:function(e){return Oe.trans?it(Oe.transless,e):e()},vip:function(e){return Ze((function(){return Oe.letThrough=!0,e()}))},async:function(e){return function(){try{var t=Et(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Ie.resolve(t)}catch(e){return ut(e)}}},spawn:function(e,t,n){try{var r=Et(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Ie.resolve(r)}catch(e){return ut(e)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(e,t){var n=Ie.resolve("function"==typeof e?wt.ignoreTransaction(e):e).timeout(t||6e4);return Oe.trans?Oe.trans.waitFor(n):n},Promise:Ie,debug:{get:function(){return F},set:function(e){M(e,"dexie"===e?function(){return!0}:yt)}},derive:d,extend:s,props:l,override:g,Events:lt,getByKeyPath:k,setByKeyPath:_,delByKeyPath:function(e,t){"string"==typeof t?_(e,t,void 0):"length"in t&&[].map.call(t,(function(t){_(e,t,void 0)}))},shallowClone:j,deepClone:C,getObjectDiff:I,asap:y,maxKey:dt,minKey:-1/0,addons:[],connections:bt,MultiModifyError:V.Modify,errnames:J,IndexSpec:Dt,TableSchema:Ct,dependencies:function(){try{return{indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:wt,Dexie:wt}),Ie.rejectionMapper=function(e,t){if(!e||e instanceof H||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Y[e.name])return e;var n=new Y[e.name](t||e.message,e);return"stack"in e&&h(n,"stack",{get:function(){return this.inner.stack}}),n},(ft=new wt("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==i.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(e){return ft.dbnames.put({name:e}).catch(X)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}(),t.a=wt}).call(this,n(6),n(36).setImmediate)},132:function(e,t,n){"use strict";n.r(t),n.d(t,"guard",(function(){return o}));var r=n(27);function o(e,t,n=!0){if(!e){if(n)throw r.a.e(t),new Error(t);r.a.w(t)}}},133:function(e,t,n){var r;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(e){return a(u(e),arguments)}function s(e,t){return i.apply(null,[e].concat(t||[]))}function a(e,t){var n,r,s,a,c,u,l,f,h,d=1,p=e.length,b="";for(r=0;r<p;r++)if("string"==typeof e[r])b+=e[r];else if("object"==typeof e[r]){if((a=e[r]).keys)for(n=t[d],s=0;s<a.keys.length;s++){if(null==n)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[s],a.keys[s-1]));n=n[a.keys[s]]}else n=a.param_no?t[a.param_no]:t[d++];if(o.not_type.test(a.type)&&o.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(i("[sprintf] expecting number but found %T",n));switch(o.number.test(a.type)&&(f=n>=0),a.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a.width?parseInt(a.width):0);break;case"e":n=a.precision?parseFloat(n).toExponential(a.precision):parseFloat(n).toExponential();break;case"f":n=a.precision?parseFloat(n).toFixed(a.precision):parseFloat(n);break;case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n;break;case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(a.type)?b+=n:(!o.number.test(a.type)||f&&!a.sign?h="":(h=f?"+":"-",n=n.toString().replace(o.sign,"")),u=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",l=a.width-(h+n).length,c=a.width&&l>0?u.repeat(l):"",b+=a.align?h+n+c:"0"===u?h+c+n:c+h+n)}return b}var c=Object.create(null);function u(e){if(c[e])return c[e];for(var t,n=e,r=[],i=0;n;){if(null!==(t=o.text.exec(n)))r.push(t[0]);else if(null!==(t=o.modulo.exec(n)))r.push("%");else{if(null===(t=o.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var s=[],a=t[2],u=[];if(null===(u=o.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(u[1]);""!==(a=a.substring(u[0].length));)if(null!==(u=o.key_access.exec(a)))s.push(u[1]);else{if(null===(u=o.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(u[1])}t[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return c[e]=r}t.sprintf=i,t.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=s,void 0===(r=function(){return{sprintf:i,vsprintf:s}}.call(t,n,t,e))||(e.exports=r))}()},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);n(329);class o extends r.a{constructor(e){super(e),this.openFromDisk=()=>{const e=document.createElement("input");e.type="file",e.accept="plain/*",e.value="",e.addEventListener("change",e=>{const t=e.target.files[0];this.props.onFile(t)}),e.style.position="absolute",e.style.left="-999px",e.style.top="-999px",document.querySelector("body").appendChild(e),e.click()},this.dragOver=e=>{e.preventDefault()},this.dropFile=e=>{this.setState({dragging:""}),e.preventDefault();const t=e.dataTransfer.files[0];this.props.onFile(t)},this.state={curFile:null,dragging:""}}render(){return Object(r.b)("div",{onDragEnter:()=>{this.setState({dragging:"dragging"})},onDragLeave:()=>{this.setState({dragging:""})},onDragOver:this.dragOver,onDrop:this.dropFile,onClick:this.openFromDisk,class:`fileDropper ${this.state.dragging}`},Object(r.b)("i",{class:`fas fa-upload \n        ${this.state.dragging?"has-text-success is-size-1":"has-text-primary is-size-3"}`}),Object(r.b)("div",{class:`dragDropFiles \n        has-text-grey-light\n        has-text-weight-light\n        ${this.state.dragging?"is-size-5":"is-size-4"} `},this.props.title?this.props.title:"Drag & Drop files here"),Object(r.b)("div",{class:"or"},"OR"),Object(r.b)("button",{class:"button is-primary block"},"Browse File"),this.state.curFile&&Object(r.b)("div",{class:"loadedFile"},"Loaded: ",this.state.curFile.name),Object(r.b)("div",{class:"has-text-warning mt-3"},"All files stay in your browser!"))}}},14:function(e,t,n){var r,o,i={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=function(e,t){return t?t.querySelector(e):document.querySelector(e)},c=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=a.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),u=null,l=0,f=[],h=n(52);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(y(r.parts[s],t))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(y(r.parts[s],t));i[r.id]={id:r.id,refs:1,parts:a}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function b(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(e.insertAt.before,n);n.insertBefore(t,o)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return m(t,e.attrs),b(e,t),t}function m(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var s=l++;n=u||(u=g(t)),r=A.bind(null,n,s,!1),o=A.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),b(e,t),t}(t),r=_.bind(null,n,t),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=k.bind(null,n),o=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o];(a=i[s.id]).refs--,r.push(a)}e&&d(p(e,t),t);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var w,x=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function A(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function k(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function _(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=h(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},15:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&d())}function d(){if(!l){var e=a(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},187:function(e){e.exports=JSON.parse('{"name":"psdetch","version":"3.3.5","description":"","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1","dev":"sh -c \\"echo \'Web Server on: http://127.0.0.1:8080\' \\" & webpack -c webpack/webpack.config.js --watch & http-server -s -c-1 ./static  ","dev:unit":"script/dev.unit.sh","dev:mod":"sh -c \\"echo \'Web Server on: http://127.0.0.1:8080\' \\" & ENTRY=./src/psdetch-studio/mod.tsx webpack --watch & http-server -s -c-1 ./static  ","build":"rm -Rf ./static/build && NODE_ENV=production webpack -c webpack/webpack.config.js","clean":"rm -Rf ./static/build ; rm -Rf ./static/assets;","obf":"script/obfuscate.js","dev:ext":"webpack --watch --config ","build:ext:all":"NODE_ENV=production script/buildextall.js","encrypt":"script/encrypt.js","build:fabric":"cd ./fabric.js;node build.js modules=ALL"},"engines":{"node":"~12.20.0"},"private":true,"author":"","license":"ISC","dependencies":{"@types/aes-js":"^3.1.0","aes-js":"^3.1.2","ag-psd":"^11.2.0","browserify-zlib":"^0.2.0","bulma":"^0.9.3","bulmaswatch":"^0.7.2","clipboard":"^2.0.4","dexie":"^2.0.4","file-saver":"^2.0.0","fontfaceobserver":"^2.1.0","fuckadblock":"^3.2.1","jszip":"^3.7.1","konva":"^7.2.5","makerjs":"^0.17.1","mozjpeg-js":"^3.3.1","opentype-layout-improved":"^1.2.5","opentype.js":"^1.3.4","os-browserify":"^0.3.0","pako":"^1.0.11","paper":"^0.12.4","path":"^0.12.7","pdfjs-dist":"^2.2.228","preact":"^10.6.4","process":"^0.11.10","prop-types":"^15.7.2","react-adsense":"^0.1.0","redux":"^4.0.1","sprintf-js":"^1.1.1","stream-browserify":"^3.0.0","svg.js":"^2.7.1","svgo":"^1.2.0","toastr":"^2.1.4","typescript":"^4.1.3","upng-js":"^2.1.0","utif":"^3.1.0","uzip":"^0.20201231.0","webfontloader":"^1.6.28","webpjs":"0.0.2"},"devDependencies":{"@fortawesome/fontawesome-free":"^5.7.2","@types/clipboard":"^2.0.1","@types/css-font-loading-module":"0.0.3","@types/file-saver":"^2.0.0","@types/fontfaceobserver":"^2.1.0","@types/jasmine":"^2.8.8","@types/jszip":"^3.1.7","@types/node":"^10.5.1","@types/pdfjs-dist":"^2.1.3","@types/sprintf-js":"^1.1.1","@types/toastr":"^2.1.35","@types/upng-js":"^2.1.1","@types/uzip":"^0.20201231.0","@types/webfontloader":"^1.6.32","@types/webpack":"^4.4.25","@webpack-cli/serve":"^1.2.1","arraybuffer-loader":"^1.0.8","autoprefixer":"^9.1.0","awesome-typescript-loader":"^5.2.1","coffee-loader":"^0.9.0","coffeescript":"^1.11.1","copy-webpack-plugin":"^4.5.2","cpx":"^1.5.0","css-loader":"^1.0.0","dotenv-webpack":"^6.0.0","file-loader":"^2.0.0","glob":"^7.1.6","http-server":"^0.12.3","jasmine-core":"^3.7.1","javascript-obfuscator":"^0.27.2","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^4.0.1","mini-css-extract-plugin":"^0.9.0","node-sass":"^4.9.2","obfuscator-loader":"^1.1.2","postcss-loader":"^2.1.6","raw-loader":"^1.0.0","sass-loader":"^7.1.0","script-loader":"^0.7.2","source-map-loader":"^0.2.3","style-loader":"^0.22.0","terser-webpack-plugin":"^2.3.5","ts-loader":"^4.5.0","tsconfig-paths-webpack-plugin":"^3.5.1","tslint":"^5.11.0","tslint-react":"^3.6.0","uglify-es":"^3.3.9","uglifyjs-webpack-plugin":"^2.2.0","url-loader":"^4.0.0","webpack":"^4.44.2","webpack-cli":"^4.3.1","webpack-dev-server":"^3.11.1","webpack-visualizer-plugin":"^0.1.11"},"extensions":[{"name":"sketchapp-adapter","version":"0.2.1","webpack":"./webpack-ext/sketchapp-adapter.js"},{"name":"xd-adapter","version":"0.2.1","webpack":"./webpack-ext/xd-adapter.js"}]}')},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=(n(338),n(30));class i extends r.a{constructor(){super();const e=Object(o.b)("adaptermanager");this.adapters=e.listDecoders()}prepareColumns(){const e=[],t=this.props.columnNum||1,n=Math.ceil(this.adapters.length/t);let r=[];for(const t of this.adapters)r.push(t),r.length===n&&(e.push(r),r=[]);return r.length>0&&e.push(r),e}render(){const e=this.prepareColumns();return Object(r.b)("div",{class:"supportFormats"},Object(r.b)("p",{class:"has-text-grey-lighter"},"Supported Formats"),Object(r.b)("div",{class:"columns"},e.map(e=>Object(r.b)("div",{class:"column"},e.map(e=>Object(r.b)("div",{class:"adapter"},Object(r.b)("img",{class:"icon",src:e.logoPath})," ",Object(r.b)("span",{class:"name"},e.fileTypeDescription)))))))}}},20:function(e,t,n){"use strict";function r(e,t="general",n,r){"undefined"!=typeof gtag&&gtag("event",e,{event_category:t,event_label:n,value:r})}function o(e,t,n){r(e,"error",t,n)}function i(e,t){const n=Date.now();return function(){const o=Date.now(),i=Math.round((o-n)/100)/10;r(e,"performance",t,i)}}function s(e,t,n){r(e,"designFileType",t,n)}function a(e){r(e,"toolUsage")}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a}))},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=new class{i(e){console.log(`[PSDETCH] INFO: ${e}`)}w(e){console.warn(`[PSDETCH] WARN: ${e}`)}e(e){console.error(`[PSDETCH] ERR: ${e}`)}}},30:function(e,t,n){"use strict";function r(e,...t){var n;const r=e.join("%s").split("%s"),o=[],i=t.map(e=>e);for(;r.length;)o.push(r.shift()),i.length?o.push(null===(n=i.shift())||void 0===n?void 0:n.toString()):r.length>0&&o.push("%s");return o.join("")}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));const o={},i={},s=n(132).guard;function a(e,t,n){void 0===i[e]&&function(e,t,n){i[e]={deps:t,constructor:n}}(e,t,n)}function c(e){if(void 0===o[e]){if(!i[e])throw new Error(`Provider not found for ${e}`);const t=i[e],n=function(...e){return e.map(e=>c(e))}(...t.deps),a=t.constructor,u="AsyncFunction"===a.constructor.name;s(!u,r`Provider ${e} is asynchronous but injected synchrnously. Use injectAsync instead.`);const l=a(...n);o[e]=l}return o[e]}},307:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(0),o=(n(334),n(51));class i extends Error{constructor(e,t){super(),this.patreonUrl=t,this.message=`${e} Download the extension at: ${t}`}}let s;async function a(e,t="Error"){return e instanceof i?async function(e,t="Early Access"){return new Promise((n,r)=>{s.setState({active:!0,mode:"patreon",title:t,content:e,onClose:()=>{n()},backgroundDrop:!0})})}(e):async function(e,t="Alert"){return new Promise((n,r)=>{s.setState({active:!0,mode:"alert",title:t,content:e,onClose:()=>{n()},backgroundDrop:!0})})}(e.toString(),t)}class c extends r.a{constructor(){super(),this.state={active:!1,backgroundDrop:!0},s=this}close(e){this.state.onClose&&this.state.onClose(e),this.setState({active:!1})}render(){return Object(r.b)("div",{class:`psdetch-modal modal ${this.state.active?"is-active":""}`},Object(r.b)("div",{class:"modal-background",onClick:()=>{this.state.backgroundDrop&&this.close()}}),Object(r.b)("div",{class:"modal-card"},Object(r.b)("header",{class:"modal-card-head"},Object(r.b)("p",{class:"modal-card-title"},this.state.title)),Object(r.b)("section",{class:"modal-card-body"},this.state.content instanceof i?this.state.content.message:this.state.content),Object(r.b)("footer",{class:"modal-card-foot"},"alert"===this.state.mode&&Object(r.b)("button",{onClick:()=>this.close(),class:"button is-primary"},Object(o.c)("ok")),"confirm"===this.state.mode&&[Object(r.b)("button",{onClick:()=>this.close(!1),class:"button is-danger"},Object(o.c)("no")),Object(r.b)("button",{onClick:()=>this.close(!0),class:"button is-success"},Object(o.c)("yes"))],"patreon"===this.state.mode&&[Object(r.b)("button",{onClick:()=>this.close(!1),class:"button is-danger"},Object(o.c)("no")),Object(r.b)("a",{target:"_blank",href:this.state.content.patreonUrl,class:"button is-primary"},"Download")])))}}},325:function(e,t,n){var r=n(326);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(r,o);r.locals&&(e.exports=r.locals)},326:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".logo{display:flex;align-items:center;max-height:100%}.logo>img{margin-right:10px}.logo .etch{color:#FAC000}.logo .psd{color:#4f85f2}\n",""])},327:function(e,t,n){var r=n(328);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(r,o);r.locals&&(e.exports=r.locals)},328:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,"nav.navbar{display:flex;min-height:4rem;align-items:stretch;position:relative}nav.navbar>.title{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);font-size:1.1em;color:#e6e6e6}nav.navbar .navbar-item{display:flex;align-items:center}nav.navbar .tools{align-self:center;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;align-items:center;font-size:1.2em;margin-right:12px}nav.navbar .tools .text{font-size:0.8em;font-weight:bold;margin-right:5px}nav.navbar .tools .zoom{margin-left:8px;margin-right:8px;cursor:pointer;font-size:1.2em}nav.navbar .tools .zoomLevel{width:36px;text-align:center}nav.navbar .pillars{display:flex}nav.navbar .pillars .pillar{display:flex;align-items:center;font-weight:bold;margin-left:5px;padding-left:5px;margin-right:5px;padding-right:5px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#b3b3b3}nav.navbar .pillars .pillar.active{color:#fff;border-bottom:2px solid #999}nav.navbar .pillars .pillar:hover{background:rgba(255,255,255,0.1)}nav.navbar .navbar-end .navbar-item>.icon{margin-right:8px}nav.navbar .navbar-end .navbar-item.ext{color:#1abc9c}nav.navbar .navbar-end .navbar-item.bug{color:#e74c3c}nav.navbar .navbar-end .share-dropdown{width:400px}nav.navbar .userInfo{padding-top:0 !important;padding-bottom:0 !important;align-items:center}nav.navbar .userInfo>.profile{margin-right:0.5rem;height:36px}nav.navbar .userInfo>.profile>img{max-height:36px;height:36px}nav.navbar .userInfo>.name_plan>.plan{text-transform:capitalize}\n",""])},329:function(e,t,n){var r=n(330);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(r,o);r.locals&&(e.exports=r.locals)},330:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".fileDropper{text-align:center;display:flex;flex-direction:column;align-items:center;cursor:pointer;transition:all 300ms ease-out;justify-content:center;position:relative}.fileDropper.dragging{background:rgba(0,0,0,0.08)}.fileDropper.dragging>.browseFile{font-size:0px;padding:0;border:none}.fileDropper.dragging>.or{font-size:0px}.fileDropper.dragging>button{opacity:0}.fileDropper>*{margin-bottom:0.5em;pointer-events:none;transition:all 300ms ease-out}.fileDropper>.browseFile{font-size:1.2em;font-weight:bold;color:#57C4FA;padding:1em;border:3px solid #57C4FA;border-radius:0.7em}.fileDropper>.loadedFile{color:#428CD0}.fileDropper>.formatsContainer{position:absolute;top:20px;right:20px}\n",""])},331:function(e,t,n){var r=n(332);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(r,o);r.locals&&(e.exports=r.locals)},332:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".extensionView .fileDropperWrapper{border:1px dashed  #5e6d6f;padding:15px}.extensionView .installed{margin-bottom:1em}.extensionView .installed>h3{font-weight:bold;font-size:1.1em;margin-bottom:1em}.extensionView .installed .no-ext{background:#212727;text-align:center;font-size:1.2em;font-weight:lighter;padding:1em}.extensionView .installed .extList{background:#212727;display:flex;flex-wrap:wrap;padding:1em}.extensionView .installed .extList .extItem{padding:0.5em;margin-right:20px;display:flex;align-items:center;background:#282f2f;border-radius:8px}.extensionView .installed .extList .extItem .name{margin-right:10px}.extensionView .installed .extList .extItem .delIcon{font-size:1.3em;cursor:pointer}.extensionView .installed .extList .extItem .delIcon:hover{color:#e74c3c}\n",""])},333:function(e,t,n){e.exports=n.p+"5c175cd9697488cd7746d66d57ad9a7b.svg"},334:function(e,t,n){var r=n(335);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(r,o);r.locals&&(e.exports=r.locals)},335:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".psdetch-modal .modal-card-foot{justify-content:flex-end}\n",""])},336:function(e,t,n){var r=n(337);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(r,o);r.locals&&(e.exports=r.locals)},337:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".footer .sec{margin-left:0.5rem}.footer .v2{float:right}\n",""])},338:function(e,t,n){var r=n(339);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(r,o);r.locals&&(e.exports=r.locals)},339:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".supportFormats>p{text-align:left;margin-top:1rem;margin-bottom:1rem}.supportFormats .adapter{display:flex;align-items:center;margin-bottom:1rem;padding-left:1rem}.supportFormats .icon{width:24px;margin-right:1rem}\n",""])},340:function(e,t,n){var r=n(341);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(r,o);r.locals&&(e.exports=r.locals)},341:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".app{display:flex;flex-direction:column;height:100%;max-height:100%;min-width:780px;min-height:720px;position:relative}.app>.fileDropper{flex:1 1 auto}.app>.loading{display:flex;align-items:center;justify-content:center;flex:1 1 auto}.app>.loading>i{margin-right:12px}.app .welcome{flex:1;position:relative}.app .welcome .formatWrapper{position:absolute;z-index:1;top:10px;right:10px;padding:20px;border-radius:8px;background-color:#282f2f}.app .welcome .recentPostsWrapper{position:absolute;left:10px;top:10px;width:20%;bottom:10px}.app .welcome .welcome-content{margin-left:auto;margin-right:auto;margin-top:30px;display:flex;flex-direction:column;align-items:center}@media screen and (min-height: 1000px){.app .welcome .welcome-content{margin-top:80px}}.app .welcome .welcome-content>div{margin-bottom:2rem}.app .welcome .welcome-content .fileDropperWrapper{background-color:#282f2f;box-shadow:inset 3px 3px 3px rgba(0,0,0,0.3)}.app .welcome .welcome-content .fileDropperWrapper .fileDropper{padding:50px;border-radius:8px;border:1px dashed white;min-width:420px}.app .welcome .welcome-content .logo{font-size:4rem}.app .welcome .welcome-content .logo>img{width:64px}.app .welcome .patreon-wrapper{font-weight:lighter;position:absolute;width:400px;bottom:15px;right:15px}.app .welcome .btns{margin-top:15px;display:flex;justify-content:space-around;color:white !important}.app .welcome .btns .twitter-share-button{border-radius:9999px;padding:0.5rem;padding-left:1rem;padding-right:2rem;background:#1DA1F2;display:flex;align-items:center;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:unset;justify-content:center;text-decoration:none !important;cursor:pointer}.app .welcome .btns .twitter-share-button>.icon{margin-right:10px;width:22px;height:22px}.app .welcome .patreon-btn-real{width:180px;background-color:#e85b46;cursor:pointer;position:relative;font-size:0.875rem;border-radius:9999px;border:1px solid #e85b46;font-weight:500}.app .welcome .patreon-btn-real>a{padding:0.46875rem 1rem;pointer-events:unset;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:unset;display:flex;align-items:center;justify-content:center;text-decoration:none !important}.app .welcome .patreon-btn-real>a>.text{margin-left:0.5rem}.app .welcome .patreon-btn-real .icon{width:1rem;height:1rem}.app .welcome .patreon-btn-real .icon>svg{fill:white;width:1rem;height:1rem}@-webkit-keyframes glow{0%{text-shadow:0 0 30px #efefef}50%{text-shadow:0 0 5px #efefef}100%{text-shadow:0 0 30px #efefef}}@keyframes glow{0%{text-shadow:0 0 30px #efefef}50%{text-shadow:0 0 5px #efefef}100%{text-shadow:0 0 30px #efefef}}\n",""])},342:function(e,t,n){var r=n(343);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(r,o);r.locals&&(e.exports=r.locals)},343:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".recentPosts{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0;overflow:auto;max-width:350px}.recentPosts .loading{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;flex-direction:column}.recentPosts .posts>.title{font-size:1.5em;font-weight:bold}.recentPosts .posts .card{margin-bottom:1em}.recentPosts .posts .card-content{padding:0.6em}.recentPosts .posts .card-content>*{margin-bottom:0.3em}.recentPosts .posts .card-content .title{font-size:1.2em;font-weight:bold}.recentPosts .posts .card-content .subtitle{font-size:0.9em}.recentPosts .posts .card-content .readmore{text-align:right}\n",""])},36:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(38),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(6))},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(1);r.b.getState();function o(e,t){const n=Object.keys(t);i(e,t);const o=r.b.getState(),s={};e.state={},n.forEach(n=>{const r=t[n](o);r instanceof Promise?r.then(t=>{e.state[n]!==t&&e.setState({[n]:t})},e=>{console.log(e)}):s[n]=r}),e.state=s}function i(e,t){const n=Object.keys(t),o=e.componentDidMount,i=e.componentWillUnmount;let s;e.componentDidMount=function(){s=r.b.subscribe(()=>{const e=r.b.getState();n.forEach(n=>{const r=t[n](e);r instanceof Promise?r.then(e=>{this.state[n]!==e&&this.setState({[n]:e})},e=>{console.log(e)}):this.state[n]!==r&&this.setState({[n]:r})})}),o&&o.call(e)},e.componentWillUnmount=function(){s(),i&&i.call(e)}}},38:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,s,a,c=1,u={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return u[c]=o,r(c),c++},h.clearImmediate=d}function d(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(6),n(15))},51:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(133);const o={name:"English",slug:"en",dict:{error_openfile_no_adapter:"Cannot find decoder for file: %s",error_canvas_convert_file_fail:"Cannot export canvas to blob with format %s. Detailed error: %s",error_layerExport_exportImage_unsupported_layerType:"Cannot export layer: %s as an Image, unsupported layer type: %s",error_renderer_nopage:"No page is renderred while try to run action: %s",tool_hand_name:"Hand",localDownload:"Download",copied:"Copied",ok:"OK",no:"NO",yes:"YES"}},i=[o];let s=o;function a(e,...t){return Object(r.sprintf)(s.dict[e],...t)}function c(e){s=e}function u(){return i}function l(){return s}},52:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},791:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return A}));var r=n(0);n(325);class o extends r.a{render(){return Object(r.b)("a",{class:"logo",href:"http://psdetch.com"},this.props.showImg?Object(r.b)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAAXNSR0IB2cksfwAAAfhQTFRFAAAAGmTuBTCB////GmPuAylzBjGEG2f0EU/C/v7//f3/G2TuBTGEH2TuI2buBDCAKWjuAGLuAFju6O38/f7/G2bzLGnu+/3/BC+AAEruGWTuADt+BTCCACxvLWnuZYnxAFvuGmXvAFLuIWbuAE7uAEbuKGfuK2juAF7uLmnuAEzuBjOKJWfuIGXuBCt5ztj5AFXuBTKGAyp1GGPu3eP6BjSKBjOHAFDuBC+C6u78EU7A9vj+HGXv5+v8+vz/GWLrYobwAEXu+fr+BDCBBC197vH9BC+ABS5/Z4rxEmLu4+j7ytP4v8r3F2PuADR8XoTwACyDBS+AF13hBC6ABS+CBSqCGWHoCC9+Ay+BFVfWEEy9C0GjBS+CGF/kssD22uD6wcz3BziSBil+prb11Nz6dJHxDWLufZfyl6r0RXfvjqPzSnjv0tr51976xM/4qrn1WYDwgJnyhJzy4eb7mq30obL0zNX5k6fzkKXznrD0BS6AAl/ueZTxT3vviJ7yAmPuAEHtr732QHTvVH7wiqHza4zxBmDuu8b3x9H4M2zu8fP9Nm/v9Pb+Ai+BDkq2E1TPAy+CBjaPAy+DAzCBCj6fBi6AAy+Bt8P2DEOqBC6CCDyZBSuBAzCAACeABDCABCx/ElHGBjaOBS6BDUWuEmbubo7xBTCBAC2A236nbAAAAKh0Uk5TAP//////////////////+////////////f//BP8C///////////////////////////////////+//////////////X///j/////////E/8p0v/Jpjf/Ie7///+Z//////8s///////////////////////////////a////////////////////////c///r/+UZf+JXf//vf9r5RqQRv//b////9w+Mub7vwAAGBVJREFUeJztnflf2kwTwAMR+4BRqC9GgpGH+xBEQAFFrfV+1Npqve+rtmrV2lZ73/d93/fxHP/muxtUkgAJtkET2vmhH6kIO9/MzM5uZicIwifFRdS/A5+/fXrS8+9go04uYtE1Dv7b8+TTt88DxXDURcW86qWk/fT73nMtoWDQHfJj5E7ryC0k5g+5g8FQy7ne99M/zYBSv+9l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"}):null,Object(r.b)("span",{class:"psd"},"PSD"),Object(r.b)("span",{class:"etch"},"ETCH"))}}n(327);var i=n(37),s=n(1),a=n(130);async function c(e,t){const n=Object.keys(t),r=n.map(e=>t[e]),o=await Promise.all(r),i={};for(let e=0;e<n.length;e++){const t=n[e],r=o[e];i[t]=r}e.setState(i)}var u=n(135);n(331);class l extends r.a{async removeExt(e){await a.extManager.deleteExtension(e.id),c(this,{extensions:a.extManager.listExtensions()})}constructor(){super(),this.state={extensions:[]}}componentWillMount(){c(this,{extensions:a.extManager.listExtensions()})}renderExtensionList(){return Object(r.b)("div",{class:"extList"},this.state.extensions.map(e=>Object(r.b)("div",{class:"extItem"},Object(r.b)("span",{class:"name"},e.name),Object(r.b)("span",{class:"delIcon",onClick:()=>this.removeExt(e)},Object(r.b)("i",{class:"fas fa-trash-alt"})))))}async onExtFile(e){await a.extManager.addExtension(e.name,e),c(this,{extensions:a.extManager.listExtensions()})}render(){return Object(r.b)("div",{class:"modal is-active extensionView"},Object(r.b)("div",{class:"modal-background",onClick:()=>this.props.onClose()}),Object(r.b)("div",{class:"modal-card"},Object(r.b)("header",{class:"modal-card-head"},Object(r.b)("p",{class:"modal-card-title"},"Extensions")),Object(r.b)("section",{class:"modal-card-body"},Object(r.b)("div",{class:"installed"},Object(r.b)("h3",null,"Installed"),this.state.extensions.length>0?this.renderExtensionList():Object(r.b)("p",{class:"no-ext"},"No Extension Installed")),Object(r.b)("div",{class:"fileDropperWrapper"},Object(r.b)(u.a,{title:"Drag Extension Here",onFile:e=>this.onExtFile(e)}))),Object(r.b)("footer",{class:"modal-card-foot"},Object(r.b)("button",{onClick:()=>this.props.onClose(),class:"button"},"Close"))))}}var f=n(3),h=n(333),d=n.n(h);class p extends r.a{constructor(){super(),Object(i.b)(this,{loaded:e=>!!e.sessionState.project,title:e=>e.sessionState.project?e.sessionState.project.name:"",user:e=>e.sessionState.user}),this.state={title:"",loaded:!1,showExtensionModal:!1}}shareTwitter(){window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent("Checkout this FREE online tool! Open PhotoShop, SketchApp, Adobe XD, SVG, PDF online at PSDETCH: https://psdetch.com"),"_blank","left=100,top=100,width=720,height=500")}render(){return Object(r.b)("nav",{class:"navbar is-dark"},Object(r.b)("div",{class:"title"},this.state.title),Object(r.b)("div",{class:"navbar-brand"},Object(r.b)("div",{class:"navbar-item is-size-4 has-text-weight-bold"},Object(r.b)(o,{showImg:!0}))),Object(r.b)("div",{class:"navbar-menu"},Object(r.b)("div",{class:"navbar-item "}),this.state.loaded?this.renderNavTools():null,Object(r.b)("div",{class:"navbar-end"},Object(r.b)("a",{onClick:()=>this.shareTwitter(),class:" navbar-item"},Object(r.b)("img",{width:"26",src:d.a})),Object(r.b)("a",{class:"navbar-item bug",href:"https://forms.gle/Dq34BVT2AnDG2nmw9",target:"_blank"},Object(r.b)("span",{class:"icon"},Object(r.b)("i",{class:"fas fa-bug"})),Object(r.b)("span",null,"Bug Report")),this.renderUserInfo())),this.state.showExtensionModal?Object(r.b)(l,{onClose:()=>this.setState({showExtensionModal:!1})}):null)}renderUserInfo(){if(this.state.user){f.a.planStatus(this.state.user);return Object(r.b)("a",{class:"navbar-item userInfo",href:"https://account.psdetch.com/",target:"_blank"},Object(r.b)("div",{class:"profile "},Object(r.b)("img",{src:this.state.user.picture})),Object(r.b)("div",{class:"name_plan"},Object(r.b)("div",{class:"plan tag is-info"},this.state.user.plan)))}return Object(r.b)("a",{href:"https://account.psdetch.com/signin",class:"has-text-warning navbar-item"},Object(r.b)("span",{class:"icon"},Object(r.b)("i",{class:"fas fa-sign-in-alt"}))," LOGIN")}closeProject(){s.b.dispatch({type:"closeProject"})}renderRightTools(){return Object(r.b)("div",{class:"navbar-end"},Object(r.b)("a",{onClick:()=>{this.closeProject()},class:"navbar-item is-size-4 "},Object(r.b)("i",{class:"fas fa-times"})))}renderNavTools(){return[]}}var b=n(307),v=(n(336),n(187));class g extends r.a{render(){return Object(r.b)("footer",{class:"footer"},Object(r.b)("div",{class:"content has-text-weight-bold"},Object(r.b)("p",null,Object(r.b)("span",{class:"sec"},"PSDETCH v",v.version," @ 2020"))))}}var m=n(188);n(340);async function y(){const e=await fetch("/blog/recent.json");return(await e.json()).map(e=>({title:e.title,permalink:e.permalink,excerpt:new w(e.excerpt)}))}class w{constructor(e){const t=e.split("\n"),n=t.shift();n&&(n.indexOf("<img")>-1?this.img=n:this.excerpt=n,t.length&&(this.excerpt=t.join("")))}}n(342);class x extends r.a{constructor(){super()}componentDidMount(){this.loadPosts()}async loadPosts(){var e;await(e=1e3,new Promise((t,n)=>{setTimeout(t,e)})),c(this,{rencentPosts:y()})}renderPosts(){const e=this.state.rencentPosts;return Object(r.b)("div",{class:"posts"},Object(r.b)("h3",{class:"title"},"Recent Posts"),e.map(e=>Object(r.b)("div",{class:"card"},e.excerpt.img?Object(r.b)("div",{class:"card-image"},Object(r.b)("figure",{class:"image",dangerouslySetInnerHTML:{__html:e.excerpt.img}})):null,Object(r.b)("div",{class:"card-content"},Object(r.b)("h3",{class:"title is-4"},e.title),Object(r.b)("p",{class:"subtitle",dangerouslySetInnerHTML:{__html:e.excerpt.excerpt}}),Object(r.b)("div",{class:"readmore"},Object(r.b)("a",{class:"button is-link",target:"_blank",href:e.permalink},"Read More"))))))}render(){return Object(r.b)("div",{class:"recentPosts"},this.state.rencentPosts?this.renderPosts():Object(r.b)("div",{class:"loading is-size-7"},Object(r.b)("i",{class:"fas fa-spinner is-size-2  animated infinite spin"}),Object(r.b)("span",null,"Loading recent posts...")))}}n(187);class A extends r.a{constructor(){super(),this.state={content:this.renderDefaultContent(),showFooter:!0}}async loadInspectStudio(){const{InspectStudio:e}=await n.e(0).then(n.bind(null,788));this.setState({content:Object(r.b)(e,null),showFooter:!1})}async onFile(e){const{InspectStudio:t}=await n.e(0).then(n.bind(null,788));this.setState({content:Object(r.b)(t,{file:e}),showFooter:!1})}renderDefaultContent(){return Object(r.b)("div",{class:"welcome"},Object(r.b)("div",{class:"recentPostsWrapper"},Object(r.b)(x,null)),Object(r.b)("div",{class:"welcome-content "},Object(r.b)("div",{class:"logoText"},Object(r.b)(o,{showImg:!1})),Object(r.b)("div",{class:"is-size-4 has-text-grey-lighter"},"Inspect design files just in browser, for FREE!"),Object(r.b)("div",{class:"fileDropperWrapper box"},Object(r.b)(u.a,{onFile:e=>{this.onFile(e)}}))),Object(r.b)("div",{class:"patreon-wrapper"}),Object(r.b)("div",{class:"formatWrapper"},Object(r.b)(m.a,{columnNum:1})))}render(){return Object(r.b)("div",{class:"app is-flex-grow-1"},Object(r.b)(p,null),this.state.content,this.state.showFooter&&Object(r.b)(g,null),Object(r.b)(b.a,null))}}}}]);